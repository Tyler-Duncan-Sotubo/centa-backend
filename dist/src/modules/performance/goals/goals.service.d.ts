import { CreateGoalDto } from './dto/create-goal.dto';
import { UpdateGoalDto } from './dto/update-goal.dto';
import { db } from 'src/drizzle/types/drizzle';
import { User } from 'src/common/types/user.type';
import { AuditService } from 'src/modules/audit/audit.service';
import { PolicyService } from './goal-policy.service';
export declare class GoalsService {
    private readonly db;
    private readonly auditService;
    private readonly policy;
    constructor(db: db, auditService: AuditService, policy: PolicyService);
    create(dto: CreateGoalDto, user: User): Promise<any>;
    findAll(companyId: string, status?: string): Promise<({
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    })[]>;
    findAllByEmployeeId(companyId: string, employeeId: string, status?: string): Promise<({
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: any;
        title: any;
        description: any;
        parentGoalId: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        weight: any;
        status: any;
        isArchived: any;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    })[]>;
    findOne(id: string, companyId: string): Promise<{
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: any;
        title: any;
        description: any;
        dueDate: any;
        startDate: any;
        cycleId: any;
        cycleName: string;
        weight: any;
        status: any;
        isArchived: any;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    }>;
    getStatusCountForEmployee(companyId: string, employeeId: string): Promise<Record<string, number>>;
    getStatusCount(companyId: string): Promise<Record<string, number>>;
    update(id: string, dto: UpdateGoalDto, user: User): Promise<{
        [x: string]: any;
    }>;
    remove(id: string, user: User): Promise<{
        message: string;
    }>;
    publishGoalAndSubGoals(goalId: string): Promise<void>;
    archiveForEmployee(goalId: string, employeeId: string, user: User): Promise<{
        message: string;
        activity: {
            updatesCount: number;
            commentsCount: number;
            attachmentsCount: number;
        };
        deletable: boolean;
    }>;
}
