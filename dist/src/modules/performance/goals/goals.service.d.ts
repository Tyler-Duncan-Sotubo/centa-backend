import { CreateGoalDto } from './dto/create-goal.dto';
import { UpdateGoalDto } from './dto/update-goal.dto';
import { db } from 'src/drizzle/types/drizzle';
import { User } from 'src/common/types/user.type';
import { AuditService } from 'src/modules/audit/audit.service';
import { PolicyService } from './goal-policy.service';
import { GoalNotificationService } from 'src/modules/notification/services/goal-notification.service';
export declare class GoalsService {
    private readonly db;
    private readonly auditService;
    private readonly policy;
    private readonly goalNotification;
    constructor(db: db, auditService: AuditService, policy: PolicyService, goalNotification: GoalNotificationService);
    create(dto: CreateGoalDto, user: User): Promise<{
        id: string;
        employeeId: string | null;
    }[]>;
    findAll(companyId: string, status?: string): Promise<({
        progress: number;
        id: string;
        title: string;
        description: string | null;
        parentGoalId: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: string;
        title: string;
        description: string | null;
        parentGoalId: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: string;
        title: string;
        description: string | null;
        parentGoalId: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: string;
        title: string;
        description: string | null;
        parentGoalId: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    })[]>;
    findAllByEmployeeId(companyId: string, employeeId: string, status?: string): Promise<({
        progress: number;
        id: string;
        title: string;
        description: string | null;
        parentGoalId: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: string;
        title: string;
        description: string | null;
        parentGoalId: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: string;
        title: string;
        description: string | null;
        parentGoalId: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    } | {
        progress: number;
        id: string;
        title: string;
        description: string | null;
        parentGoalId: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        jobRoleName: string | null;
    })[]>;
    findOne(id: string, companyId: string): Promise<{
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: string;
        title: string;
        description: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        cycleName: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: string;
        title: string;
        description: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        cycleName: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: string;
        title: string;
        description: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        cycleName: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: string;
        title: string;
        description: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        cycleName: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: string;
        title: string;
        description: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        cycleName: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    } | {
        updates: {
            id: string;
            progress: number;
            note: string | null;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        comments: {
            id: string;
            comment: string;
            createdAt: Date | null;
            createdBy: string;
            createdByName: string;
        }[];
        attachments: {
            id: string;
            fileName: string;
            createdAt: Date | null;
            uploadedBy: string;
            uploadedByName: string;
            fileUrl: string;
            comment: string;
        }[];
        id: string;
        title: string;
        description: string | null;
        dueDate: string;
        startDate: string;
        cycleId: string;
        cycleName: string;
        weight: number | null;
        status: string | null;
        isArchived: boolean | null;
        avatarUrl: string | null;
        employee: string;
        employeeId: any;
        departmentName: any;
        departmentId: any;
        office: string;
        manager: string;
    }>;
    getStatusCountForEmployee(companyId: string, employeeId: string): Promise<Record<string, number>>;
    getStatusCount(companyId: string): Promise<Record<string, number>>;
    update(id: string, dto: UpdateGoalDto, user: User): Promise<{
        id: string;
        companyId: string;
        cycleId: string;
        employeeId: string | null;
        employeeGroupId: string | null;
        title: string;
        description: string | null;
        type: string | null;
        status: string | null;
        weight: number | null;
        parentGoalId: string | null;
        startDate: string;
        dueDate: string;
        assignedAt: Date | null;
        assignedBy: string;
        isPrivate: boolean | null;
        updatedAt: Date | null;
        isArchived: boolean | null;
    }>;
    remove(id: string, user: User): Promise<{
        message: string;
    }>;
    publishGoalAndSubGoals(goalId: string): Promise<void>;
    archiveForEmployee(goalId: string, employeeId: string, user: User): Promise<{
        message: string;
        activity: {
            updatesCount: number;
            commentsCount: number;
            attachmentsCount: number;
        };
        deletable: boolean;
    }>;
}
