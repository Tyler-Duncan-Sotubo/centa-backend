import { db } from 'src/drizzle/types/drizzle';
import { Queue } from 'bullmq';
import { createBonusDto } from '../dto';
import { CacheService } from 'src/config/cache/cache.service';
import { LoanService } from './loan.service';
import { TaxService } from './tax.service';
export declare class PayrollService {
    private db;
    private payrollQueue;
    private cache;
    private loanService;
    private taxService;
    constructor(db: db, payrollQueue: Queue, cache: CacheService, loanService: LoanService, taxService: TaxService);
    private formattedDate;
    private calculatePAYE;
    calculatePayroll(employee_id: string, payrollMonth: string, payrollRunId: string, company_id: string): Promise<{
        id: string;
        company_id: string;
        payroll_month: string;
        payroll_run_id: string;
        employee_id: string;
        basic: number;
        housing: number;
        transport: number;
        gross_salary: number;
        pension_contribution: number;
        employer_pension_contribution: number;
        salary_advance: number | null;
        bonuses: number | null;
        nhf_enrolled: number | null;
        nhf_contribution: number | null;
        paye_tax: number;
        custom_deductions: number | null;
        total_deductions: number;
        net_salary: number;
        taxable_income: number;
        payroll_date: string;
        payment_status: string | null;
        payment_date: string | null;
        payment_reference: string | null;
        approval_status: string | null;
        approval_date: string | null;
        approval_remarks: string | null;
    }[]>;
    calculatePayrollForCompany(company_id: string, payrollMonth: string, group_id?: string): Promise<{
        id: string;
        company_id: string;
        payroll_month: string;
        payroll_run_id: string;
        employee_id: string;
        basic: number;
        housing: number;
        transport: number;
        gross_salary: number;
        pension_contribution: number;
        employer_pension_contribution: number;
        salary_advance: number | null;
        bonuses: number | null;
        nhf_enrolled: number | null;
        nhf_contribution: number | null;
        paye_tax: number;
        custom_deductions: number | null;
        total_deductions: number;
        net_salary: number;
        taxable_income: number;
        payroll_date: string;
        payment_status: string | null;
        payment_date: string | null;
        payment_reference: string | null;
        approval_status: string | null;
        approval_date: string | null;
        approval_remarks: string | null;
    }[][]>;
    private getCompany;
    getPayrollSummary(companyId: string): Promise<{
        payroll_run_id: string;
        payroll_date: string;
        payroll_month: string;
        approval_status: string | null;
        payment_status: string | null;
        total_gross_salary: number;
        employee_count: number;
        total_deductions: number;
        total_net_salary: number;
        totalPayrollCost: number;
    }[]>;
    getPayrollStatus(companyId: string): Promise<{
        payroll_run_id: string;
    }[]>;
    updatePayrollApprovalStatus(user_id: string, payroll_run_id: string, approval_status: string): Promise<{
        id: string;
        payroll_run_id: string;
        employee_id: string;
        company_id: string;
        basic: number;
        housing: number;
        transport: number;
        gross_salary: number;
        pension_contribution: number;
        employer_pension_contribution: number;
        salary_advance: number | null;
        bonuses: number | null;
        nhf_enrolled: number | null;
        nhf_contribution: number | null;
        paye_tax: number;
        custom_deductions: number | null;
        total_deductions: number;
        net_salary: number;
        taxable_income: number;
        payroll_date: string;
        payroll_month: string;
        payment_status: string | null;
        payment_date: string | null;
        payment_reference: string | null;
        approval_status: string | null;
        approval_date: string | null;
        approval_remarks: string | null;
    }[]>;
    updatePayrollPaymentStatus(user_id: string, payroll_run_id: string, payment_status: string): Promise<{
        payroll_month: string;
    }[]>;
    deletePayroll(company_id: string, payroll_run_id: string): Promise<any>;
    getSalaryBreakdown(user_id: string): Promise<{
        id: string;
        basic: string;
        housing: string;
        transport: string;
        allowances: {
            type: string | null;
            percentage: string | null;
            id: string | null;
        }[];
    } | null>;
    createUpdateSalaryBreakdown(user_id: string, dto: any): Promise<{
        id: string;
        company_id: string;
        basic: string;
        housing: string;
        transport: string;
        createdAt: string | null;
    }[]>;
    deleteSalaryBreakdown(user_id: string, id: string): Promise<void>;
    createBonus(user_id: string, dto: createBonusDto): Promise<{
        id: string;
        company_id: string;
        payroll_month: string;
        employee_id: string;
        amount: number;
        bonus_type: string | null;
        bonus_date: string;
    }[]>;
    getBonuses(user_id: string): Promise<{
        id: string;
        employee_id: string;
        amount: number;
        bonus_type: string | null;
        first_name: string | null;
        last_name: string | null;
        payroll_month: string;
    }[]>;
    deleteBonus(user_id: string, id: string): Promise<any>;
    getPayrollPreviewDetails(company_id: string): Promise<{
        allEmployees: {
            id: string;
            employee_number: string | null;
            first_name: string;
            last_name: string;
            email: string;
            annual_gross: number | null;
            employment_status: string | null;
            group_id: string | null;
            apply_nhf: boolean | null;
        }[];
        groups: {
            id: string;
            name: string;
            apply_pension: boolean | null;
            apply_nhf: boolean | null;
            apply_paye: boolean | null;
            apply_additional: boolean | null;
        }[];
        payrollSummary: {
            payroll_run_id: string;
            payroll_date: string;
            payroll_month: string;
            approval_status: string | null;
            payment_status: string | null;
            total_gross_salary: number;
            employee_count: number;
            total_deductions: number;
            total_net_salary: number;
            totalPayrollCost: number;
        }[];
        salaryBreakdown: {};
        customDeduction: {
            id: string;
            employee_id: string;
            amount: number;
        }[];
        bonuses: {
            employee_id: string;
            amount: number;
        }[];
        taxConfig: {
            apply_pension: boolean | null;
            apply_nhf: boolean | null;
            apply_paye: boolean | null;
        };
    }>;
}
